<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display Data</title>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
        th, td {
            padding: 10px;
        }
    </style>
</head>
<body>
    <table id="table-display">
        <tbody>

        </tbody>
    </table>
</body>
<script>
window.addEventListener('load', (event) => {
    let dataList = localStorage.getItem("dataList");
    if(dataList) {
        dataList = JSON.parse(dataList);
    } else {
        dataList = [];
    }
    processStudentDataResponse(dataList);
});

const processStudentDataResponse = (dataList) => {
    const headerHtml = "<th>First Name</th><th>Last Name</th><th>Gender</th><th>Email</th>";
    if(dataList.length == 0) return;
    let innerHtml = `${headerHtml}`;                   
    for(const studentData of dataList){                
        innerHtml = `${innerHtml}
            <tr>
                <td>
                    ${studentData.firstname}
                </td>
                <td>${studentData.lastname}</td>
                <td>${studentData.gender}</td>
                <td>${studentData.email}</td>
            </tr>
        `;
    }        
    document.querySelector('#table-display').innerHTML = innerHtml;  
}
</script>
</html>